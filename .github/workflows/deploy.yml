name: ğŸš€ Deploy via SFTP â€“ Ohm's Law Simulation

on:
  push:
    branches: [ main ]  # Trigger deploy on push to main

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“¥ Checkout repository
        uses: actions/checkout@v3

      - name: ğŸ“¤ SFTP Deploy
        uses: SamKirkland/FTP-Deploy-Action@v4.3.4
        with:
          server: ${{ secrets.SFTP_HOST }}           # e.g., 197.243.23.6
          username: ${{ secrets.SFTP_USERNAME }}     # your hosting SFTP username
          password: ${{ secrets.SFTP_PASSWORD }}     # your SFTP password
          port: 22                                   # ğŸ” SFTP port
          protocol: sftp                             # ğŸ” use secure SFTP
          local-dir: ./                              # all files from repo root
          server-dir: ${{ secrets.SFTP_TARGET_DIR }} # e.g., /home/username/public_html/
          dangerous-clean-slate: false               # keep existing server files
